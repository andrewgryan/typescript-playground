<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Canvas wind barbs example</title>
        <style>
            body {
                margin: 0;
            }
        </style>
        <script>
            module = {exports:{}}; exports = {};
            window.require = function(name) { return window[name]; };
        </script>
    </head>
    <body>
        <canvas id="canvas"></canvas>
        <script>
            window.onload = function() {
                let c = document.getElementById("canvas")
                let dpr = window.devicePixelRatio || 1;
                c.width = dpr * window.innerWidth
                c.height = dpr * window.innerHeight
                c.style.width = window.innerWidth + "px"
                c.style.height = window.innerHeight + "px"

                // HTML5 Rocks DPR hack
                let ctx = c.getContext("2d");
                ctx.scale(dpr, dpr)
                ctx.lineWidth = 1;
                ctx.lineStyle = "black";

                // Draw barbs on the canvas
                let scale = 5
                let x = [300, 400, 500, 300, 400, 500, 600]
                let y = [200, 200, 200, 100, 100, 100, 100]
                let u = [65, 45, 15, 105, 5, 20, 0]
                let v = [0, 0, 0, 0, 5, 25, 0]
                for (let i=0; i<x.length; i++) {
                    exports.draw(ctx, x[i], y[i], u[i], v[i],
                        scale=scale)
                }
            }

        </script>
        <script src="dist/barbs.js"></script>
    </body>
</html>
